health_insurance_poverty <- read_csv(
"data/raw_data/Health_Insurance_Current_Coverage_Status_and_Type_of_Coverage_by_Selected_Characteristics_2019.csv")
# read in the neighborhood resilience dataset from a csv file
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_",
"and_Type_of_Coverage_by_Selected_Characteristics_2019.csv")
# read in the neighborhood resilience dataset from a csv file
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_and_",                               "Type_of_Coverage_by_Selected_Characteristics_2019.csv"))
View(health_insurance_poverty)
View(health_insurance_poverty)
health_insurance_poverty %>%
filter(groups == "Household Income") %>%
select(characteristics, percent_not_currently_covered)
health_insurance_poverty %>%
filter(groups == "Household Income")
characteristic_poverty %>%
filter(groups == "Educational Attainment")
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered)
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = characteristics,
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Characteristics")
ylab("Percent not currently coveraged")
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = characteristics,
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Characteristics") +
ylab("Percent not currently coveraged")
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered) %>%
factor(health_insurance_poverty$characteristics, levels = c("Less than $25,000", "$25,00 to less than $50,000", "$50,000 to less than $75,000", "$75,000 to less than $100,000", "$100,000 to less than $125,000", "$125,000 to less than $150,000", "150,000 or more")) %>%
ggplot(aes(x = characteristics,
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Characteristics") +
ylab("Percent not currently coveraged")
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = reorder(characteristics, -percent_not_currently_covered),
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Characteristics") +
ylab("Percent not currently coveraged")
# comparing income to poverty ratio with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Income-to-Poverty Ratio") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = reorder(characteristics, -percent_not_currently_covered),
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Characteristics") +
ylab("Percent not currently coveraged")
# comparing income to poverty ratio with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Income-to-Poverty Ratio") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = reorder(characteristics, -percent_not_currently_covered),
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Income-to-Poverty Ratio") +
ylab("Percent not currently coveraged")
# comparing income to poverty ratio with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Income-to-Poverty Ratio") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = reorder(characteristics, -percent_not_currently_covered),
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Income-to-Poverty versus Health Insurance Coverage") +
xlab("Income-to-Poverty Ratio") +
ylab("Percent not currently coveraged")
# comparing Household Income with Health Insurance Coverage
health_insurance_poverty %>%
filter(group == "Household Income") %>%
select(characteristics, percent_not_currently_covered) %>%
ggplot(aes(x = reorder(characteristics, -percent_not_currently_covered),
y = percent_not_currently_covered)) +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Household Income versus Health Insurance Coverage") +
xlab("Household Income") +
ylab("Percent not currently coveraged")
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Load libraries
library("dplyr")
library("tidyr")
library("ggplot2")
library("readr")
library("rebird")
library("citr")
library("broom")
library("knitr")
# read in the neighborhood resilience dataset from a csv file
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_and_",                               "Type_of_Coverage_by_Selected_Characteristics_2019.csv"))
# want to know the relationship between poverty rate and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression.
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the poverty rate and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between poverty rate
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Create a bar graph that compares the top and bottom 5 poverty rates
# in different SF neighborhoods
resiliency_data %>%
filter(Pov_Per > 0.42| Pov_Per < 0.165) %>%
mutate(Extremes = case_when(Pov_Per > 0.42 ~ "Poorest 5",
Pov_Per < 0.165 ~ "Richest 5")) %>%
select(Neighborhood, NonWhi_Per, Pov_Per, Extremes) %>%
ggplot(aes(x = Neighborhood,
y = NonWhi_Per)) +
facet_wrap(~Extremes, scales = "free") +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Non-White Percentages in Extreme Poverty Rate Neighborhoods") +
ylab("Non-White Percentage")
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Load libraries
library("dplyr")
library("tidyr")
library("ggplot2")
library("readr")
library("rebird")
library("citr")
library("broom")
library("knitr")
# read in the neighborhood resilience dataset from a csv file
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_and_",                               "Type_of_Coverage_by_Selected_Characteristics_2019.csv"))
# want to know the relationship between poverty rate and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression.
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the poverty rate and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between poverty rate
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# want to know the relationship between tree cover and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression
ggplot(data = resiliency_data,
aes(x = Tree_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the tree cover and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Cover of Trees in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between percent tree cover
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Tree_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# want to know the relationship between poverty rate and high school degree
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = HS_Per)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the Poverty Rate and High School Degrees",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "Percent High School Degree Over Age 25") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between poverty rate
# and graduating high school in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# Create a bar graph that compares the top and bottom 5 poverty rates
# in different SF neighborhoods
resiliency_data %>%
filter(Pov_Per > 0.42| Pov_Per < 0.165) %>%
mutate(Extremes = case_when(Pov_Per > 0.42 ~ "Poorest 5",
Pov_Per < 0.165 ~ "Richest 5")) %>%
select(Neighborhood, NonWhi_Per, Pov_Per, Extremes) %>%
ggplot(aes(x = Neighborhood,
y = NonWhi_Per)) +
facet_wrap(~Extremes, scales = "free") +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Non-White Percentages in Extreme Poverty Rate Neighborhoods") +
ylab("Non-White Percentage")
citr:::insert_citation()
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data)
summary(lm(HS_Per ~ Pov_Per,
summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data)
summary(lm(HS_Per ~ Pov_Per,
# it looks like there is a relationship between poverty rate
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data)
# Set up
knitr::opts_chunk$set(echo = FALSE,
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Load libraries
library("dplyr")
library("tidyr")
library("ggplot2")
library("readr")
library("rebird")
library("citr")
library("broom")
library("knitr")
# read in the neighborhood resilience dataset from a csv file
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_and_",                               "Type_of_Coverage_by_Selected_Characteristics_2019.csv"))
# want to know the relationship between poverty rate and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression.
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the poverty rate and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
summary(lm(PM_Conc ~ Tree_Per,
data = resiliency_data))
summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data))
characteristic_poverty %>%
filter(groups == "Educational Attainment")
characteristic_poverty %>%
filter(groups == "Educational Attainment") %>%
select(characteristics, `2017_total`, `2017_number_below_poverty`,
`2017_percent_below_poverty`, `2018_total`,
`2018_number_below_poverty`, `2018_percent_below_poverty`)
resiliency_data %>%
filter(Pov_Per > 0.42| Pov_Per < 0.165) %>%
mutate(Extremes = case_when(Pov_Per > 0.42 ~ "Poorest 5",
Pov_Per < 0.165 ~ "Richest 5")) %>%
select(Neighborhood, NonWhi_Per, Pov_Per, Extremes)
# show a table of the educational attainment of everyone in the US
# compared to poverty
characteristic_poverty %>%
filter(groups == "Educational Attainment") %>%
select(characteristics, `2017_total`, `2017_number_below_poverty`,
`2017_percent_below_poverty`, `2018_total`,
`2018_number_below_poverty`, `2018_percent_below_poverty`) %>%
kable(col.names = c("Characteristics", "Total in 2017",
"Number Below Poverty in 2017",
"Percent Below Poverty in 2017",
"Total in 2018",
"Number Below Poverty in 2018",
"Percent Below Poverty in 2018"))
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# it looks like there is a relationship between poverty rate
# and graduating high school in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data))
# Set up
knitr::opts_chunk$set(echo = FALSE,
message = FALSE,
error = FALSE,
warning = FALSE)
# Load libraries
library("dplyr")
library("tidyr")
library("ggplot2")
library("readr")
library("rebird")
library("citr")
library("broom")
library("knitr")
# read in the neighborhood resilience dataset from a csv file [@datasf2015community]
# https://data.sfgov.org/Health-and-Social-Services/
#     Community-Resiliency-Indicator-System/banc-xdvr
resiliency_data <- read_csv(
"data/raw_data/Community_Resiliency_Indicator_System.csv")
# read in the people in poverty by select characteristics from csv file [@censusbureau2018people]
# https://www.census.gov/data/tables/2019/demo/income-poverty/p60-266.html
characteristic_poverty <- read_csv(
"data/raw_data/People_In_Poverty_By_Select_Characteristics.csv")
#read in health insurance coverage by select characteristics from csv file [@censusbureau2018health]
#https://www.census.gov/data/tables/time-series/demo/income-poverty/cps-hi/hi.html
health_insurance_poverty <- read_csv(paste0("data/raw_data/Health_Insurance_Current_Coverage_Status_and_",                               "Type_of_Coverage_by_Selected_Characteristics_2019.csv"))
# want to know the relationship between poverty rate and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression.
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the poverty rate and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between poverty rate
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# want to know the relationship between tree cover and PM 2.5 levels
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression
ggplot(data = resiliency_data,
aes(x = Tree_Per,
y = PM_Conc)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the tree cover and PM 2.5 levels",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Cover of Trees in a Given Neighborhood",
y = "PM 2.5 Concentration from All Sources") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between percent tree cover
# and PM 2.5 levels in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(PM_Conc ~ Tree_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# want to know the relationship between poverty rate and high school degree
# in different SF neighborhoods. These are both continuous variables
# and numeric so the plan is to use a scatterplot and then test the
# relationship using regression
ggplot(data = resiliency_data,
aes(x = Pov_Per,
y = HS_Per)) +
geom_point(size = 3, color = "black") +
ggtitle("Relationship between the Poverty Rate and High School Degrees",
"Across San Francisco Neighborhoods") +
labs(x = "Percent Poverty Rate in a Given Neighborhood",
y = "Percent High School Degree Over Age 25") +
geom_smooth(method = "lm", alpha = 0.3)
# it looks like there is a relationship between poverty rate
# and graduating high school in SF neighborhoods! Now need to check that it is
# a significant relationship. Will use a linear model to do this
results_from_pm_tree_lm <- summary(lm(HS_Per ~ Pov_Per,
data = resiliency_data))
knitr::kable(broom::tidy(results_from_pm_tree_lm), digits = 4)
# Create a bar graph that compares the top and bottom 5 poverty rates
# in different SF neighborhoods
resiliency_data %>%
filter(Pov_Per > 0.42| Pov_Per < 0.165) %>%
mutate(Extremes = case_when(Pov_Per > 0.42 ~ "Poorest 5",
Pov_Per < 0.165 ~ "Richest 5")) %>%
select(Neighborhood, NonWhi_Per, Pov_Per, Extremes) %>%
ggplot(aes(x = Neighborhood,
y = NonWhi_Per)) +
facet_wrap(~Extremes, scales = "free") +
theme(axis.text.x = element_text(angle=45, hjust=1)) +
geom_bar(stat = "identity") +
ggtitle("Non-White Percentages in Extreme Poverty Rate Neighborhoods") +
ylab("Non-White Percentage")
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
citr:::insert_citation()
